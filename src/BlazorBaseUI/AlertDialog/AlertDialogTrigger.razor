@using BlazorBaseUI.Dialog

<DialogTrigger Render="Render"
               Disabled="Disabled"
               NativeButton="NativeButton"
               Id="Id"
               Payload="Payload"
               ClassValue="ClassValue"
               StyleValue="StyleValue"
               ChildContent="ChildContent"
               @attributes="AdditionalAttributes"
               @ref="innerComponent" />

@code {
    private DialogTrigger? innerComponent;

    /// <summary>
    /// Gets or sets a custom render fragment that replaces the default element.
    /// </summary>
    [Parameter]
    public RenderFragment<RenderProps<DialogTriggerState>>? Render { get; set; }

    /// <summary>
    /// Determines whether the trigger button is disabled.
    /// Defaults to <see langword="false"/>.
    /// </summary>
    [Parameter]
    public bool Disabled { get; set; }

    /// <summary>
    /// Determines whether the component renders a native <c>&lt;button&gt;</c> element when replacing it via the <see cref="Render"/> property.
    /// Set to <see langword="false"/> if the rendered element is not a button.
    /// Defaults to <see langword="true"/>.
    /// </summary>
    [Parameter]
    public bool NativeButton { get; set; } = true;

    /// <summary>
    /// Gets or sets the ID of the trigger element.
    /// Also used to specify the active trigger for alert dialogs in controlled mode.
    /// </summary>
    [Parameter]
    public string? Id { get; set; }

    /// <summary>
    /// Gets or sets a payload to pass to the alert dialog when it is opened.
    /// </summary>
    [Parameter]
    public object? Payload { get; set; }

    /// <summary>
    /// Gets or sets a function that returns a CSS class based on the component's state.
    /// </summary>
    [Parameter]
    public Func<DialogTriggerState, string>? ClassValue { get; set; }

    /// <summary>
    /// Gets or sets a function that returns an inline style based on the component's state.
    /// </summary>
    [Parameter]
    public Func<DialogTriggerState, string>? StyleValue { get; set; }

    /// <summary>
    /// Defines the child components of this instance.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Gets or sets a collection of additional attributes that will be applied to the created element.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object>? AdditionalAttributes { get; set; }

    /// <summary>
    /// Gets or sets the associated <see cref="ElementReference"/>.
    /// </summary>
    public ElementReference? Element => innerComponent?.Element;
}
