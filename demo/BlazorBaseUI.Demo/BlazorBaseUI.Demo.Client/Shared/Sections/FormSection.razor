@using BlazorBaseUI.Field
@using BlazorBaseUI.Form
@using BlazorBaseUI.Utilities
@using Microsoft.AspNetCore.Components.Forms

<ComponentShowcase ComponentName="Form"
                   Description="A native form element with consolidated error handling."
                   BaseRoute="/form"
                   IsWasmMode="IsWasmMode">
    <DemoSection Title="Basic Form Submission"
                 Description="Form with OnValidSubmit callback">
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
            <Form Model="@basicModel" OnValidSubmit="HandleBasicSubmit">
                <FieldRoot Name="username" ClassValue="@(_ => "mb-5")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Username
                    </FieldLabel>
                    <FieldControl @bind-Value="basicModel.Username"
                                  placeholder="Enter your username"
                                  ClassValue="@(_ => "w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition outline-none")" />
                </FieldRoot>
                <button type="submit"
                        class="w-full rounded-lg bg-blue-600 py-2.5 font-semibold text-white transition duration-200 hover:bg-blue-700">
                    Submit
                </button>
            </Form>
            @if (!string.IsNullOrEmpty(basicSubmitResult))
            {
                <div class="mt-4 rounded-lg border border-green-200 bg-green-50 p-3 text-sm text-green-800">
                    ✓ @basicSubmitResult
                </div>
            }
        </div>
    </DemoSection>

    <DemoSection Title="Form with Validation"
                 Description="Form does not submit if there are validation errors">
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
            <Form Model="@validationModel" OnValidSubmit="HandleValidationSubmit">
                <FieldRoot Name="email"
                           Validate="ValidateRequired"
                           ClassValue="@(s => "mb-5")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Email (required)
                    </FieldLabel>
                    <FieldControl @bind-Value="validationModel.Email"
                                  type="email"
                                  placeholder="you@example.com"
                                  ClassValue="@(s => "w-full px-4 py-2.5 rounded-lg border transition outline-none " + (s.Valid == false ? "border-red-400 bg-red-50 focus:ring-2 focus:ring-red-200" : "border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"))" />
                    <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-2 font-medium")" />
                </FieldRoot>
                <button type="submit"
                        class="w-full rounded-lg bg-blue-600 py-2.5 font-semibold text-white transition duration-200 hover:bg-blue-700">
                    Submit
                </button>
            </Form>
            <p class="mt-4 text-center text-xs text-gray-500">Attempts: <span class="font-semibold text-gray-700">@validationSubmitAttempts</span></p>
        </div>
    </DemoSection>

    <DemoSection Title="External Errors (Server-side)"
                 Description="Simulates server-side validation errors via Errors prop">
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
            <div class="mb-4 flex gap-2">
                <button @onclick="SetServerError"
                        class="rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white transition duration-200 hover:bg-red-700">
                    Set Server Error
                </button>
                <button @onclick="ClearServerError"
                        class="rounded-lg bg-gray-300 px-4 py-2 text-sm font-semibold text-gray-800 transition duration-200 hover:bg-gray-400">
                    Clear Error
                </button>
            </div>
            <Form Model="@serverErrorModel" Errors="@serverErrors">
                <FieldRoot Name="username" ClassValue="@(s => "mb-4")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Username
                    </FieldLabel>
                    <FieldControl @bind-Value="serverErrorModel.Username"
                                  placeholder="Enter username"
                                  ClassValue="@(s => "w-full px-4 py-2.5 rounded-lg border transition outline-none " + (s.Valid == false ? "border-red-400 bg-red-50 focus:ring-2 focus:ring-red-200" : "border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"))" />
                    <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-2 font-medium")" />
                </FieldRoot>
            </Form>
        </div>
    </DemoSection>

    <DemoSection Title="OnFormSubmit Callback"
                 Description="Receives typed form values on submit">
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
            <Form Model="@formSubmitModel" OnFormSubmit="HandleFormSubmit">
                <FieldRoot Name="name" ClassValue="@(_ => "mb-5")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Name
                    </FieldLabel>
                    <FieldControl @bind-Value="formSubmitModel.Name"
                                  placeholder="Enter your name"
                                  ClassValue="@(_ => "w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition outline-none")" />
                </FieldRoot>
                <FieldRoot Name="age" ClassValue="@(_ => "mb-5")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Age
                    </FieldLabel>
                    <FieldControl @bind-Value="formSubmitModel.Age"
                                  type="number"
                                  placeholder="Enter your age"
                                  ClassValue="@(_ => "w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition outline-none")" />
                </FieldRoot>
                <button type="submit"
                        class="w-full rounded-lg bg-blue-600 py-2.5 font-semibold text-white transition duration-200 hover:bg-blue-700">
                    Submit
                </button>
            </Form>
            @if (formSubmitValues is not null)
            {
                <div class="mt-4 rounded-lg border border-gray-200 bg-gray-50 p-4">
                    <p class="mb-3 text-sm font-semibold text-gray-800">Received values:</p>
                    <div class="space-y-2">
                        @foreach (var kvp in formSubmitValues)
                        {
                            <div class="flex justify-between text-sm text-gray-700">
                                <span class="font-medium">@kvp.Key:</span>
                                <span class="text-gray-600">@kvp.Value</span>
                            </div>
                        }
                    </div>
                </div>
            }
        </div>
    </DemoSection>

    <DemoSection Title="Unmounted Fields"
                 Description="Unmounted fields should be removed from form validation">
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
            <label class="mb-4 flex cursor-pointer items-center gap-3">
                <input type="checkbox" @bind="showConditionalField" class="h-5 w-5 rounded border-gray-300 text-blue-600" />
                <span class="text-sm font-medium text-gray-700">Show email field (required)</span>
            </label>
            <Form Model="@unmountModel" OnValidSubmit="HandleUnmountSubmit" OnInvalidSubmit="HandleUnmountInvalid">
                <FieldRoot Name="name" ClassValue="@(_ => "mb-5")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Name
                    </FieldLabel>
                    <FieldControl @bind-Value="unmountModel.Name"
                                  placeholder="Enter your name"
                                  ClassValue="@(_ => "w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition outline-none")" />
                </FieldRoot>
                @if (showConditionalField)
                {
                    <FieldRoot Name="email"
                               Validate="ValidateRequired"
                               ClassValue="@(_ => "mb-5")">
                        <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                            Email (required, conditional)
                        </FieldLabel>
                        <FieldControl @bind-Value="unmountModel.Email"
                                      placeholder="you@example.com"
                                      ClassValue="@(s => "w-full px-4 py-2.5 rounded-lg border transition outline-none " + (s.Valid == false ? "border-red-400 bg-red-50 focus:ring-2 focus:ring-red-200" : "border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"))" />
                        <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-2 font-medium")" />
                    </FieldRoot>
                }
                <button type="submit"
                        class="w-full rounded-lg bg-blue-600 py-2.5 font-semibold text-white transition duration-200 hover:bg-blue-700">
                    Submit
                </button>
            </Form>
            <p class="mt-4 text-center text-xs text-gray-600 italic">@unmountStatus</p>
        </div>
    </DemoSection>

    <DemoSection Title="Focus First Invalid Field"
                 Description="On submit, focus moves to first invalid field">
        <Form Model="@focusModel" OnValidSubmit="HandleFocusSubmit">
            <FieldRoot Name="firstName"
                       Validate="ValidateRequired"
                       ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    First Name (required)
                </FieldLabel>
                <FieldControl @bind-Value="focusModel.FirstName"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>
            <FieldRoot Name="lastName"
                       Validate="ValidateRequired"
                       ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Last Name (required)
                </FieldLabel>
                <FieldControl @bind-Value="focusModel.LastName"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>
            <FieldRoot Name="email"
                       Validate="ValidateRequired"
                       ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Email (required)
                </FieldLabel>
                <FieldControl @bind-Value="focusModel.Email"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>
            <button type="submit"
                    class="rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700">
                Submit
            </button>
        </Form>
    </DemoSection>

    <DemoSection Title="Validation Modes"
                 Description="Compare different validation modes in Form context">
        <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <div class="rounded border p-4">
                <h4 class="mb-2 font-medium">OnSubmit (default)</h4>
                <Form Model="@onSubmitModel" ValidationMode="ValidationMode.OnSubmit">
                    <FieldRoot Name="value"
                               Validate="ValidateMinLength"
                               ClassValue="@(_ => "mb-2")">
                        <FieldControl @bind-Value="onSubmitModel.Value"
                                      placeholder="Min 3 chars"
                                      ClassValue="@(s => "block w-full rounded border p-2 text-sm " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                        <FieldError ClassValue="@(_ => "text-xs text-red-600 mt-1")" />
                    </FieldRoot>
                    <button type="submit" class="rounded bg-blue-600 px-3 py-1 text-sm text-white">
                        Submit
                    </button>
                </Form>
            </div>
            <div class="rounded border p-4">
                <h4 class="mb-2 font-medium">OnBlur</h4>
                <Form Model="@onBlurModel" ValidationMode="ValidationMode.OnBlur">
                    <FieldRoot Name="value"
                               Validate="ValidateMinLength"
                               ClassValue="@(_ => "mb-2")">
                        <FieldControl @bind-Value="onBlurModel.Value"
                                      placeholder="Min 3 chars"
                                      ClassValue="@(s => "block w-full rounded border p-2 text-sm " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                        <FieldError ClassValue="@(_ => "text-xs text-red-600 mt-1")" />
                    </FieldRoot>
                    <button type="submit" class="rounded bg-blue-600 px-3 py-1 text-sm text-white">
                        Submit
                    </button>
                </Form>
            </div>
            <div class="rounded border p-4">
                <h4 class="mb-2 font-medium">OnChange</h4>
                <Form Model="@onChangeModel" ValidationMode="ValidationMode.OnChange">
                    <FieldRoot Name="value"
                               Validate="ValidateMinLength"
                               ClassValue="@(_ => "mb-2")">
                        <FieldControl @bind-Value="onChangeModel.Value"
                                      placeholder="Min 3 chars"
                                      ClassValue="@(s => "block w-full rounded border p-2 text-sm " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                        <FieldError ClassValue="@(_ => "text-xs text-red-600 mt-1")" />
                    </FieldRoot>
                    <button type="submit" class="rounded bg-blue-600 px-3 py-1 text-sm text-white">
                        Submit
                    </button>
                </Form>
            </div>
        </div>
    </DemoSection>

    <DemoSection Title="With DataAnnotationsValidator"
                 Description="Form works with Blazor's built-in validators">
        <Form Model="annotatedModel"
              OnValidSubmit="HandleAnnotatedSubmit">
            <DataAnnotationsValidator />

            <FieldRoot Name="@nameof(annotatedModel.RequiredField)"
                       ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Required Field
                </FieldLabel>
                <FieldControl @bind-Value="annotatedModel.RequiredField"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>

            <FieldRoot Name="@nameof(annotatedModel.EmailField)" ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Email Field
                </FieldLabel>
                <FieldControl @bind-Value="annotatedModel.EmailField"
                              type="email"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>

            <FieldRoot Name="@nameof(annotatedModel.RangeField)" ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Age (1-120)
                </FieldLabel>
                <FieldControl @bind-Value="annotatedModel.RangeField"
                              type="number"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>

            <button type="submit"
                    class="rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700">
                Submit
            </button>
        </Form>
        @if (annotatedSubmitSuccess)
        {
            <div class="mt-2 rounded bg-green-100 p-2 text-sm text-green-800">
                Form submitted successfully!
            </div>
        }
    </DemoSection>

    <DemoSection Title="Errors Clear on Change"
                 Description="External errors should clear when field value changes">
        <Form Model="@clearErrorModel"
              Errors="@clearErrors"
              OnSubmit="HandleClearErrorSubmit">
            <FieldRoot Name="field1" ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Field 1
                </FieldLabel>
                <FieldControl @bind-Value="clearErrorModel.Field1"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>
            <FieldRoot Name="field2" ClassValue="@(_ => "mb-4")">
                <FieldLabel ClassValue="@(_ => "block text-sm font-medium text-gray-700")">
                    Field 2
                </FieldLabel>
                <FieldControl @bind-Value="clearErrorModel.Field2"
                              ClassValue="@(s => "mt-1 block w-full rounded border p-2 " + (s.Valid == false ? "border-red-500" : "border-gray-300"))" />
                <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-1")" />
            </FieldRoot>
            <button type="submit"
                    class="rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700">
                Submit (sets errors if empty)
            </button>
        </Form>
    </DemoSection>

    <DemoSection Title="ActionsRef (Imperative Form Validation)"
                 Description="Validate form or specific field programmatically via ActionsRef">
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
            <Form Model="@actionsRefModel"
                  ActionsRef="@(actions => formActions = actions)">
                <FieldRoot Name="username"
                           Validate="ValidateRequired"
                           ClassValue="@(_ => "mb-4")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Username (required)
                    </FieldLabel>
                    <FieldControl @bind-Value="actionsRefModel.Username"
                                  placeholder="Leave empty to test validation"
                                  ClassValue="@(s => "w-full px-4 py-2.5 rounded-lg border transition outline-none " + (s.Valid == false ? "border-red-400 bg-red-50" : "border-gray-300 focus:border-blue-500"))" />
                    <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-2 font-medium")" />
                </FieldRoot>
                <FieldRoot Name="email"
                           Validate="ValidateEmailFormat"
                           ClassValue="@(_ => "mb-4")">
                    <FieldLabel ClassValue="@(_ => "block text-sm font-semibold text-gray-800 mb-2")">
                        Email (must contain @@)
                    </FieldLabel>
                    <FieldControl @bind-Value="actionsRefModel.Email"
                                  placeholder="Enter invalid email to test"
                                  ClassValue="@(s => "w-full px-4 py-2.5 rounded-lg border transition outline-none " + (s.Valid == false ? "border-red-400 bg-red-50" : "border-gray-300 focus:border-blue-500"))" />
                    <FieldError ClassValue="@(_ => "text-sm text-red-600 mt-2 font-medium")" />
                </FieldRoot>
            </Form>
            <div class="mt-4 flex flex-wrap gap-2">
                <button type="button"
                        @onclick="ValidateEntireForm"
                        class="rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700">
                    Validate All Fields
                </button>
                <button type="button"
                        @onclick="ValidateUsernameOnly"
                        class="rounded-lg bg-gray-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-gray-700">
                    Validate Username Only
                </button>
                <button type="button"
                        @onclick="ValidateEmailOnly"
                        class="rounded-lg bg-gray-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-gray-700">
                    Validate Email Only
                </button>
            </div>
        </div>
    </DemoSection>
</ComponentShowcase>

@code {
    [Parameter]
    public bool IsWasmMode { get; set; }

    private FormActions? formActions;
    private ActionsRefModel actionsRefModel = new();

    private async Task ValidateEntireForm()
    {
        if (formActions is not null)
        {
            await formActions.ValidateAsync();
        }
    }

    private async Task ValidateUsernameOnly()
    {
        if (formActions is not null)
        {
            await formActions.ValidateAsync("username");
        }
    }

    private async Task ValidateEmailOnly()
    {
        if (formActions is not null)
        {
            await formActions.ValidateAsync("email");
        }
    }

    private Task<string[]?> ValidateEmailFormat(object? value)
    {
        var str = value?.ToString() ?? string.Empty;
        if (string.IsNullOrEmpty(str))
            return Task.FromResult<string[]?>(null);
        if (!str.Contains('@'))
            return Task.FromResult<string[]?>(["Email must contain @"]);
        return Task.FromResult<string[]?>(null);
    }

    private BasicModel basicModel = new();
    private string? basicSubmitResult;

    private Task HandleBasicSubmit(EditContext context)
    {
        basicSubmitResult = $"Submitted: {basicModel.Username}";
        return Task.CompletedTask;
    }

    private ValidationModel validationModel = new();
    private int validationSubmitAttempts;

    private Task HandleValidationSubmit(EditContext context)
    {
        validationSubmitAttempts++;
        return Task.CompletedTask;
    }

    private ServerErrorModel serverErrorModel = new() { Username = "admin" };
    private Dictionary<string, string[]> serverErrors = new();

    private void SetServerError()
    {
        serverErrors = new Dictionary<string, string[]>
        {
            ["username"] = ["Username 'admin' is already taken"]
        };
    }

    private void ClearServerError()
    {
        serverErrors = new();
    }

    private FormSubmitModel formSubmitModel = new() { Name = "Alice", Age = "30" };
    private IReadOnlyDictionary<string, object?>? formSubmitValues;

    private Task HandleFormSubmit(FormSubmitEventArgs args)
    {
        formSubmitValues = args.Values;
        return Task.CompletedTask;
    }

    private UnmountModel unmountModel = new() { Name = "Test" };
    private bool showConditionalField = true;
    private string unmountStatus = "Try submitting with/without the email field";

    private Task HandleUnmountSubmit(EditContext context)
    {
        unmountStatus = "Form submitted successfully!";
        return Task.CompletedTask;
    }

    private Task HandleUnmountInvalid(EditContext context)
    {
        unmountStatus = "Form invalid - check required fields";
        return Task.CompletedTask;
    }

    private FocusModel focusModel = new();

    private Task HandleFocusSubmit(EditContext context)
    {
        return Task.CompletedTask;
    }

    private ValueModel onSubmitModel = new();
    private ValueModel onBlurModel = new();
    private ValueModel onChangeModel = new();

    private AnnotatedModel annotatedModel = new();
    private bool annotatedSubmitSuccess;

    private Task HandleAnnotatedSubmit(EditContext context)
    {
        annotatedSubmitSuccess = true;
        return Task.CompletedTask;
    }

    private ClearErrorModel clearErrorModel = new();
    private Dictionary<string, string[]> clearErrors = new();

    private Task HandleClearErrorSubmit(EditContext context)
    {
        var newErrors = new Dictionary<string, string[]>();
        if (string.IsNullOrEmpty(clearErrorModel.Field1))
            newErrors["field1"] = ["Field 1 is required"];
        if (string.IsNullOrEmpty(clearErrorModel.Field2))
            newErrors["field2"] = ["Field 2 is required"];
        clearErrors = newErrors;
        return Task.CompletedTask;
    }

    private Task<string[]?> ValidateRequired(object? value)
    {
        var str = value?.ToString() ?? string.Empty;
        if (string.IsNullOrWhiteSpace(str))
            return Task.FromResult<string[]?>(["This field is required"]);
        return Task.FromResult<string[]?>(null);
    }

    private Task<string[]?> ValidateMinLength(object? value)
    {
        var str = value?.ToString() ?? string.Empty;
        if (string.IsNullOrEmpty(str) || str.Length < 3)
            return Task.FromResult<string[]?>(["Must be at least 3 characters"]);
        return Task.FromResult<string[]?>(null);
    }

    private class BasicModel
    {
        public string Username { get; set; } = string.Empty;
    }

    private class ValidationModel
    {
        public string Email { get; set; } = string.Empty;
    }

    private class ServerErrorModel
    {
        public string Username { get; set; } = string.Empty;
    }

    private class FormSubmitModel
    {
        public string Name { get; set; } = string.Empty;
        public string Age { get; set; } = string.Empty;
    }

    private class UnmountModel
    {
        public string Name { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
    }

    private class FocusModel
    {
        public string FirstName { get; set; } = string.Empty;
        public string LastName { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
    }

    private class ValueModel
    {
        public string Value { get; set; } = string.Empty;
    }

    private class AnnotatedModel
    {
        [System.ComponentModel.DataAnnotations.Required(ErrorMessage = "This field is required")]
        public string RequiredField { get; set; } = string.Empty;

        [System.ComponentModel.DataAnnotations.EmailAddress(ErrorMessage = "Invalid email address")]
        public string EmailField { get; set; } = string.Empty;

        [System.ComponentModel.DataAnnotations.Range(1, 120, ErrorMessage = "Age must be between 1 and 120")]
        public int RangeField { get; set; }
    }

    private class ClearErrorModel
    {
        public string Field1 { get; set; } = string.Empty;
        public string Field2 { get; set; } = string.Empty;
    }

    private class ActionsRefModel
    {
        public string Username { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
    }
}